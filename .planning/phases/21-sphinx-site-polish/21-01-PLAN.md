---
phase: 21-sphinx-site-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/index.rst
  - docs/function_guide.rst
  - docs/examples/index.rst
autonomous: true
requirements: [DOC-14, DOC-16]

must_haves:
  truths:
    - "Landing page shows three distinct audience paths: newcomer, Maple user, function lookup"
    - "function_guide.rst helps user select the right function for their task"
    - "Examples gallery describes each notebook with audience and content summary"
  artifacts:
    - path: "docs/index.rst"
      provides: "Audience-aware landing page with structured navigation"
      contains: "New to q-series"
    - path: "docs/function_guide.rst"
      provides: "Decision guide organized by task type"
      contains: "Which function should I use"
    - path: "docs/examples/index.rst"
      provides: "Enriched example gallery with descriptions and audience tags"
      contains: "getting_started"
  key_links:
    - from: "docs/index.rst"
      to: "docs/function_guide.rst"
      via: "toctree reference"
      pattern: "function_guide"
    - from: "docs/index.rst"
      to: "docs/examples/index.rst"
      via: "toctree reference"
      pattern: "examples/index"
    - from: "docs/function_guide.rst"
      to: "docs/api/*.rst"
      via: "cross-references to specific functions"
      pattern: ":func:`q_kangaroo\\."
---

<objective>
Rewrite the Sphinx landing page with audience-aware navigation, create a function selection decision guide, and enrich the examples gallery with descriptions.

Purpose: Users arriving at the docs should immediately find a path suited to their background (newcomer, Maple user, or experienced user looking up a specific function). The decision guide reduces the "79 functions, which one do I need?" problem.

Output: Rewritten docs/index.rst, new docs/function_guide.rst, updated docs/examples/index.rst
</objective>

<execution_context>
@C:/Users/Owner/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/Owner/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@docs/index.rst
@docs/examples/index.rst
@docs/api/index.rst
@docs/conf.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite docs/index.rst with audience-aware navigation</name>
  <files>docs/index.rst</files>
  <action>
Rewrite docs/index.rst to replace the current plain landing page with structured audience navigation. Keep the existing project description paragraph but restructure everything below it.

Add three audience-path sections using RST admonitions or styled blocks:

1. "New to q-series?" section -- Points to getting_started notebook and quickstart page. Brief sentence: "Start with our step-by-step tutorial that takes you from installation to your first identity."

2. "Switching from Maple?" section -- Points to maple_migration notebook. Brief sentence: "Side-by-side translation guide for all 13 function groups in Garvan's packages."

3. "Looking for a specific function?" section -- Points to function_guide.rst and API reference. Brief sentence: "Use our decision guide to find the right function for your task, or browse the full API reference (79 functions in 13 groups)."

Keep the existing toctree structure (User Guide, API Reference, Examples) but add a new toctree entry for function_guide under a "Guides" caption between User Guide and API Reference:

```rst
.. toctree::
   :maxdepth: 2
   :caption: Guides

   function_guide
```

Also add a "What's Inside" section with a brief feature overview (keep the current 5 bullet points but make them more descriptive with function counts per group).

Keep the "Indices and tables" section at the bottom.

Do NOT add animations or JavaScript. Use only standard RST directives (admonitions, toctrees, section headers). Use `.. tip::`, `.. note::`, or `.. seealso::` admonitions for the audience paths -- whichever looks cleanest.
  </action>
  <verify>
Confirm docs/index.rst contains:
- "New to q-series" text
- "Switching from Maple" text
- "Looking for a specific function" text
- function_guide in a toctree
- All existing toctree entries preserved (installation, quickstart, mathematical_notation, api/index, examples/index)
  </verify>
  <done>Landing page has three distinct audience navigation paths and includes function_guide in its toctree</done>
</task>

<task type="auto">
  <name>Task 2: Create docs/function_guide.rst decision page</name>
  <files>docs/function_guide.rst</files>
  <action>
Create a new file docs/function_guide.rst titled "Which Function Should I Use?" that organizes all 79 functions by TASK TYPE (what the user wants to accomplish), not by implementation group.

Structure the page with these task-oriented sections:

**1. Building q-Series from Scratch**
- "I want to compute a q-Pochhammer symbol" -> :func:`~q_kangaroo.aqprod` (finite or infinite)
- "I want an eta product" -> :func:`~q_kangaroo.etaq`
- "I want a named product (Jacobi, quintuple, Winquist)" -> :func:`~q_kangaroo.jacprod`, :func:`~q_kangaroo.tripleprod`, :func:`~q_kangaroo.quinprod`, :func:`~q_kangaroo.winquist`
- "I want a q-binomial coefficient" -> :func:`~q_kangaroo.qbin`
- "I want a theta function" -> :func:`~q_kangaroo.theta2`, :func:`~q_kangaroo.theta3`, :func:`~q_kangaroo.theta4`
- "I want a hypergeometric series" -> :func:`~q_kangaroo.phi` (basic), :func:`~q_kangaroo.psi` (bilateral)

**2. Partition Functions**
- "I want to count partitions p(n)" -> :func:`~q_kangaroo.partition_count`
- "I want a partition generating function" -> :func:`~q_kangaroo.partition_gf`
- "I want restricted partitions (distinct, odd, bounded)" -> :func:`~q_kangaroo.distinct_parts_gf`, :func:`~q_kangaroo.odd_parts_gf`, :func:`~q_kangaroo.bounded_parts_gf`
- "I want rank or crank generating functions" -> :func:`~q_kangaroo.rank_gf`, :func:`~q_kangaroo.crank_gf`

**3. Analyzing a Series (Reverse Engineering)**
- "I have a series and want its infinite product form" -> :func:`~q_kangaroo.prodmake`
- "I want the eta-quotient representation" -> :func:`~q_kangaroo.etamake`
- "I want the Jacobi product representation" -> :func:`~q_kangaroo.jacprodmake`
- "I want mixed sign product form" -> :func:`~q_kangaroo.mprodmake`
- "I want to extract an arithmetic subsequence" -> :func:`~q_kangaroo.sift`
- "I want to factor a q-polynomial" -> :func:`~q_kangaroo.qfactor`
- "I want degree information" -> :func:`~q_kangaroo.qdegree`, :func:`~q_kangaroo.lqdegree`
- "I want eta-quotient representation (generalized)" -> :func:`~q_kangaroo.qetamake`

**4. Finding Relations Between Series**
- "I want to express one series as a linear combination of others" -> :func:`~q_kangaroo.findlincombo`
- "I want a homogeneous polynomial relation" -> :func:`~q_kangaroo.findhom`
- "I want a general polynomial relation" -> :func:`~q_kangaroo.findpoly`
- "I want a non-homogeneous relation" -> :func:`~q_kangaroo.findnonhom`
- "I want to discover partition congruences" -> :func:`~q_kangaroo.findcong`
- "I want to combine multiple series in relation search" -> :func:`~q_kangaroo.findhomcombo`, :func:`~q_kangaroo.findnonhomcombo`
- "I want modular arithmetic for speed" -> :func:`~q_kangaroo.findlincombomodp`, :func:`~q_kangaroo.findhommodp`, :func:`~q_kangaroo.findhomcombomodp`
- "I want to find independent series from a set" -> :func:`~q_kangaroo.findmaxind`
- "I want a brute-force product search" -> :func:`~q_kangaroo.findprod`

**5. Proving Identities**
- "I want to prove an eta-quotient identity" -> :func:`~q_kangaroo.prove_eta_id`
- "I want to search the identity database" -> :func:`~q_kangaroo.search_identities`
- "I want algorithmic summation (q-Gosper)" -> :func:`~q_kangaroo.q_gosper`
- "I want creative telescoping (q-Zeilberger)" -> :func:`~q_kangaroo.q_zeilberger`
- "I want a WZ proof certificate" -> :func:`~q_kangaroo.verify_wz`
- "I want to solve q-hypergeometric recurrences" -> :func:`~q_kangaroo.q_petkovsek`
- "I want to prove a nonterminating identity" -> :func:`~q_kangaroo.prove_nonterminating`
- "I want to find transformation chains" -> :func:`~q_kangaroo.find_transformation_chain`

**6. Summation and Transformation**
- "I want to try closed-form summation" -> :func:`~q_kangaroo.try_summation` (tries q-Gauss, q-Vandermonde, q-Saalschutz, q-Kummer, q-Dixon)
- "I want Heine transformations of 2phi1" -> :func:`~q_kangaroo.heine1`, :func:`~q_kangaroo.heine2`, :func:`~q_kangaroo.heine3`
- "I want Sears' balanced 4phi3 transformation" -> :func:`~q_kangaroo.sears_transform`
- "I want Watson's 8phi7 to 4phi3 reduction" -> :func:`~q_kangaroo.watson_transform`

**7. Mock Theta Functions and Beyond**
- "I want classical mock theta functions" -> list the 20 functions grouped by order (third: f3, phi3, psi3, chi3, omega3, nu3, rho3; fifth: f0_5, f1_5, F0_5, F1_5, phi0_5, phi1_5, psi0_5, psi1_5, chi0_5, chi1_5; seventh: F0_7, F1_7, F2_7)
- "I want Appell-Lerch sums" -> :func:`~q_kangaroo.appell_lerch_m`
- "I want universal mock theta functions" -> :func:`~q_kangaroo.universal_mock_theta_g2`, :func:`~q_kangaroo.universal_mock_theta_g3`
- "I want Bailey chain machinery" -> :func:`~q_kangaroo.bailey_weak_lemma`, :func:`~q_kangaroo.bailey_apply_lemma`, :func:`~q_kangaroo.bailey_chain`, :func:`~q_kangaroo.bailey_discover`

Use RST definition lists or bullet lists with `:func:` cross-references. Each entry should be one line: "I want X" -> function_name. Add a brief introductory paragraph at the top explaining how the page is organized (by task, not by module).

At the bottom, add a "Still not sure?" section pointing to the full :doc:`api/index` and suggesting the user try the :doc:`examples/getting_started` tutorial.

Use `:func:` with tilde prefix (`:func:`~q_kangaroo.foo``) so only the function name displays, not the full module path.
  </action>
  <verify>
Confirm docs/function_guide.rst:
- Contains "Which Function Should I Use" title
- Has 7 task-oriented sections
- References all 79 functions via :func: cross-references
- Links to api/index and examples/getting_started at bottom
  </verify>
  <done>Decision guide page exists with all 79 functions organized by task type, cross-referenced with :func: directives</done>
</task>

<task type="auto">
  <name>Task 3: Enrich docs/examples/index.rst with descriptions</name>
  <files>docs/examples/index.rst</files>
  <action>
Update docs/examples/index.rst to add descriptive content for each notebook. Keep the existing 3-section toctree structure (Tutorials, Topic Guides, Reference) and the existing audience hints at the top.

For each notebook, add a short description (1-2 sentences) and an audience/prerequisite tag. Use a RST definition list or a descriptive paragraph before/after each toctree section.

**Tutorials section (before toctree):**
- **Getting Started** -- Zero to first identity. Install q-Kangaroo, create a session, compute q-Pochhammer symbols, build products, prove an identity. *No prerequisites.*
- **Series Analysis** -- The analysis pipeline: prodmake, etamake, sift, and relation discovery (findlincombo, findhom, findpoly, findcong). *Requires: basic q-series familiarity.*
- **Identity Proving** -- Algorithmic proof techniques: q-Zeilberger, WZ certificates, q-Petkovsek, and nonterminating identities. *Requires: hypergeometric series background.*

**Topic Guides section (before toctree):**
- **Partition Congruences** -- Ramanujan's congruences, rank and crank, Dyson's conjecture, and prodmake analysis. *For: number theory researchers.*
- **Theta Identities** -- Jacobi triple product, quintuple product, Winquist formula, and theta function relationships. *For: modular forms background.*
- **Hypergeometric Summation** -- All 6 summation formulas (q-Gauss, q-Vandermonde, q-Saalschutz, q-Kummer, q-Dixon), Heine transforms, Sears, Watson. *For: special functions researchers.*
- **Mock Theta Functions** -- Ramanujan's 20 mock theta functions, Appell-Lerch connection, universal mock theta g2/g3. *For: mock modular forms background.*
- **Bailey Chains** -- Bailey pairs, lemma, multi-step chains, Rogers-Ramanujan from unit pair, and bailey_discover. *For: combinatorial identity researchers.*

**Reference section (before toctree):**
- **Maple Migration** -- Side-by-side translation of all 13 function groups from Garvan's Maple packages. *For: researchers migrating existing Maple code.*

Use RST that will render cleanly with the Furo theme. Keep the existing toctree directives unchanged (just add descriptive content around them).
  </action>
  <verify>
Confirm docs/examples/index.rst contains:
- Descriptions for all 9 notebooks
- Audience/prerequisite tags for each
- All 3 toctree sections preserved with all 9 notebook references
  </verify>
  <done>Examples gallery has descriptive summaries and audience tags for all 9 notebooks</done>
</task>

</tasks>

<verification>
- docs/index.rst has 3 audience navigation paths and links to function_guide
- docs/function_guide.rst exists with all 79 functions organized by task
- docs/examples/index.rst has descriptions for all 9 notebooks
- All existing toctree entries preserved (no broken links)
- function_guide is reachable from index.rst toctree
</verification>

<success_criteria>
- Landing page provides immediate orientation for 3 user types (newcomer, Maple user, function seeker)
- function_guide.rst answers "which function should I use?" for any common task
- Examples gallery describes each notebook with audience context
- All cross-references use valid :func: and :doc: directives
</success_criteria>

<output>
After completion, create `.planning/phases/21-sphinx-site-polish/21-01-SUMMARY.md`
</output>
